(()=>{var e={99:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detectCat=void 0,t.detectCat=function(e,t){var n=new cv.CascadeClassifier;n.load(t);var d=new cv.RectVector,a=cv.imread(e),c=new cv.Size(100,100);n.detectMultiScale(a,d,1.1,3,0,c,c);for(var r=0;r<d.size();r++){var o=new cv.Point(d.get(r).x,d.get(r).y),i=new cv.Point(d.get(r).x+d.get(r).width,d.get(r).y+d.get(r).height);cv.rectangle(a,o,i,[255,0,0,255])}cv.imshow("preview",a),a.delete(),n.delete(),d.delete()}}},t={};function n(d){var a=t[d];if(void 0!==a)return a.exports;var c=t[d]={exports:{}};return e[d](c,c.exports,n),c.exports}(()=>{const e=n(99);function t(){return e.detectCat(document.getElementById("preview"),a),!1}function d(){var e=document.getElementById("file_button").files[0];if("image/jpeg"!=e.type&&"image/png"!=e.type&&"image/gif"!=e.type)alert("画像ファイルを選択してください"),document.getElementById("file_button").val("");else{var t=new FileReader;t.onload=function(){document.getElementById("preview").src=t.result;var e=new Image;e.onload=function(){var t=1028,n=t/e.width,d=e.height*n,a=document.getElementById("canvas").getContext("2d");document.getElementById("canvas").width=t,document.getElementById("canvas").height=d,a.drawImage(e,0,0,t,d)},e.src=document.getElementById("preview").src},t.readAsDataURL(e)}}const a="./model/cascade.xml";window.onload=function(){document.getElementById("file_button").addEventListener("change",d),document.getElementById("submit_button").addEventListener("click",t);let e=new Utils("errorMessage");e.loadOpenCv((()=>{e.createFileFromUrl(a,a,(()=>{document.getElementById("result").innerHTML="Ready."}))}))}})()})();